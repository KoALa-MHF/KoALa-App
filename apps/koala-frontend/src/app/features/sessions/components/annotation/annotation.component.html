<div style="display: flex">
  <svg [id]="'d3-labels-' + d3ContainerID" style="width: 30px; margin-top: 0px"></svg>
  <svg (window:resize)="onResize()" [id]="'d3-container-' + d3ContainerID" style="width: 100%"></svg>
  <svg
    *ngIf="!displayMode && enableAnnotationDelete"
    [id]="'d3-delete-' + d3ContainerID"
    style="width: 44px; margin-left: 20px"
  >
    <foreignObject xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="44" height="100%">
      <div *ngFor="let marker of markers">
        <button
          *ngIf="marker.visible"
          pButton
          style="margin-bottom: 12px; margin-top: 12px"
          class="p-button-text menu-button"
          (click)="onMarkerAnnotationsDelete(marker)"
          icon="pi pi-times-circle"
          [disabled]="deactivateAnnotationDelete"
        ></button>
      </div>
    </foreignObject>
  </svg>
  <div [id]="'d3-container-' + d3ContainerID" class="tooltip-container"></div>
</div>

<p-overlayPanel
  #annotationDetailOverlay
  [style]="annotationDetailOverlayStyle"
  [showCloseIcon]="true"
  [dismissable]="false"
  (onHide)="onAnnotationDetailClosed()"
>
  <koala-annotation-detail
    #annotationDetail
    [annotation]="selectedDataPoint"
    (createTextComment)="onAnnotationTextCommentCreate($event)"
    (updateTextComment)="onAnnotationTextCommentUpdate($event)"
    (removeTextComment)="onAnnotationTextCommentRemove($event)"
    (saveAudioComment)="onAnnotationAudioCommentSave($event)"
    (deleteAudioComment)="onAnnotationAudioCommentDelete($event)"
  ></koala-annotation-detail>
</p-overlayPanel>
