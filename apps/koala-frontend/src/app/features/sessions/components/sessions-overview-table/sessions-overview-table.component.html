<div class="table-toolbar">
  <span style="font: 500 20px / 32px Roboto, 'Helvetica Neue', sans-serif">{{
    'SESSION.OVERVIEW.TABLE_TITLE' | translate
  }}</span>
  <button
    pButton
    pRipple
    type="button"
    icon="pi pi-plus-circle"
    class="p-button-rounded p-button-text"
    data-cy="session-create-btn"
    (click)="onSessionCreate()"
    attr.aria-label="{{ 'SESSION.OVERVIEW.ACC.CREATE' | translate }}"
  ></button>
</div>

<p-table selectionMode="single" [value]="sessions" class="mat-elevation-z8" data-cy="session-overview-table">
  <ng-template pTemplate="header">
    <tr>
      <th id="SessionOverviewTableHeaderNameColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.NAME_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderCreationDateColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.CREATION_DATE_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderParticipantsColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.PARTICIPANTS_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderLastChangedDateColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.CHANGED_DATE_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderSettingsColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.SETTINGS_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderLinkColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.LINK_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderExportColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.EXPORT_COL_LABEL' | translate }}
      </th>
      <th id="SessionOverviewTableHeaderDeleteColumn">
        {{ 'SESSION.OVERVIEW.TABLE_HEADER.DELETE_COL_LABEL' | translate }}
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-session>
    <tr [pSelectableRow]="session" (click)="onRowSelect(session)">
      <td data-column="sessionName" data-cy="session-overview-name-col">{{ session.name }}</td>
      <td data-column="createdAt" data-cy="session-overview-created-at-col">
        {{ session.createdAt | date: 'medium' }}
      </td>
      <td data-column="participants" data-cy="session-overview-participants-col">0</td>
      <td data-column="updatedAt" data-cy="session-overview-updated-at-col">
        {{ session.updatedAt | date: 'medium' }}
      </td>
      <td>
        <button
          pButton
          pRipple
          data-column="settings"
          aria-labelledby="SessionOverviewTableHeaderSettingsColumn"
          (click)="onSettings(session)"
          class="p-button-text"
          icon="pi pi-cog"
          data-cy="session-overview-settings-btn"
        ></button>
      </td>
      <td>
        <button
          pButton
          pRipple
          data-column="qrCode"
          icon="pi pi-qrcode"
          class="p-button-text"
          aria-labelledby="SessionOverviewTableHeaderLinkColumn"
          (click)="onCodePressed(session)"
          data-cy="session-overview-qrcode-btn"
        ></button>
      </td>
      <td>
        <button
          pButton
          pRipple
          data-column="export"
          icon="pi pi-file-export"
          class="p-button-text"
          aria-labelledby="SessionOverviewTableHeaderExportColumn"
          (click)="onExport(session)"
          data-cy="session-overview-export-btn"
        ></button>
      </td>
      <td>
        <button
          pButton
          pRipple
          data-column="delete"
          name="deleteButton"
          icon="pi pi-trash"
          class="p-button-text"
          aria-labelledby="SessionOverviewTableHeaderDeleteColumn"
          (click)="onSessionDelete(session)"
          data-cy="session-overview-delete-btn"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>
